"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getListeners = exports["default"] = exports.addListener = void 0;
// Simple Map polyfill mapping targets to a hash of names->handler[]
var targets = [];
var events = [];
var getListeners = exports.getListeners = function getListeners(target, name) {
  var targetIndex = targets.indexOf(target);
  if (targetIndex === -1) {
    targetIndex = targets.push(target) - 1;
  }
  var listeners = events[targetIndex] = events[targetIndex] || {};
  return listeners[name] = listeners[name] || [];
};
var addListener = exports.addListener = function addListener(target, name, fn) {
  var listeners = getListeners(target, name);
  if (listeners.indexOf(fn) === -1) {
    listeners.push(fn);
    return true;
  }
  return false;
};
var _default = exports["default"] = getListeners;